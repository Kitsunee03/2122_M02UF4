<!doctype html>

<html>
	<head> <title>TFFHD :)</title> </head>
	<body>
		<h1> Too Fast Family HD</h1>
		<h5>MongoDB edition</h5>

		<main>
			<section id="characters">
				<ul id="characters-list">
					<h2>Characters</h2>
				</ul>
			</section>
			<section id="items">
				<ul id="items-list">
					<h2>Items</h2>
				</ul>
			</section>
		</main>

		<script>
			let list;
			//Load Characters
			function charactersLoad(data) {
				list = "<h2>Characters</h2>";
				for(let i=0; i<data.length; i++) {
					list += "<li>"+data[i].name+"</li>";
				}
				document.getElementById("characters-list").innerHTML = list;
			}
			//Update Characters
			let characters_interval= setInterval(function() {
				fetch("/characters")
				.then(response => response.json())
				.then(data => charactersLoad(data));
			}());
			characters_interval= setInterval(function() {
				fetch("/characters")
				.then(response => response.json())
				.then(data => charactersLoad(data));
			}, 2000);

			//Load Items
			function itemsLoad(data) {
				list = "<h2>Items</h2>";
				for(let i=0; i<data.length; i++) {
					list += "<li>"+data[i].item+"</li>";
				}
				document.getElementById("items-list").innerHTML = list;
			}
			//Update Items
			let items_interval= setInterval(function() {
				fetch("/items")
				.then(response => response.json())
				.then(data => itemsLoad(data));
			}());
			items_interval= setInterval(function() {
				fetch("/items")
				.then(response => response.json())
				.then(data => itemsLoad(data));
			}, 2000);


		</script>
	</body>
	<footer>
		<h3>Pata de pagina</h3>
	</footer>
</html>
